@layer latexml;

@import url("./latexml.css") layer(latexml);

:root {
	--text: black;
	--background: white;
	--scrollbar: #ccc;
	--gray: #555;
	--link: blue;
	--latex-color-FF0000: #FF0000;
	--latex-color-007091: #007091;
	--latex-color-008000: #008000;
	--latex-color-8C0000: #8C0000;
	--latex-color-0000FF: #0000FF;
}

@media (prefers-color-scheme: dark) {
	:root {
		--text: white;
		--background: #181818;
		--scrollbar: #333;
		--gray: #AAA;
		--link: #8AF;
		--latex-color-FF0000: #F55;
		--latex-color-007091: #4CF;
		--latex-color-008000: #4C4;
		--latex-color-8C0000: #F77;
		--latex-color-0000FF: #9AF;
	}
}

:root {
	--document-font: "New Computer Modern", "Noto Serif", serif;
	--math-font: "New Computer Modern Math", math;

	color-scheme: dark light;
	font-family: system-ui, sans-serif;
	overflow-wrap: break-word;
	line-height: 1.4;
	color: var(--text);
	background-color: var(--background);
	scrollbar-color: var(--scrollbar) transparent;
	scrollbar-width: thin;
	interpolate-size: allow-keywords;
	-webkit-text-size-adjust: none;
	text-size-adjust: none;
	-webkit-tap-highlight-color: transparent;
	scroll-padding-block: 1.5rem;
}

body {
	margin: 0;
	box-sizing: border-box;
	padding-top: env(safe-area-inset-top, 0px);
	padding-right: env(safe-area-inset-right, 0px);
	padding-bottom: env(safe-area-inset-bottom, 0px);
	padding-left: env(safe-area-inset-left, 0px);
}

main {
	overflow-x: hidden;
	padding-inline: 1rem;
	margin-inline: auto;
	max-inline-size: 50rem;
	font-size: 1.1rem;
	display: flow-root;
}

nav {
	padding-block: 1rem;
}

nav a, #toc a {
	color: inherit;
	/* text-decoration: none; */
}

pre {
	text-wrap: wrap;
}

.ltx_tag_chapter {
	display: none;
}

.ltx_page_content {
	font-family: var(--document-font);
	border-block: 1px solid #888;
}

.ltx_page_content::after {
	content: none;
}

math {
	font-family: var(--math-font);
}

@font-face {
	font-family: "New Computer Modern";
	font-display: swap;
	src: url("../assets/newcomputermodern/regular.otf");
	/* Source: https://ctan.org/tex-archive/fonts/newcomputermodern/otf/NewCM08-Regular.otf */
}

@font-face {
	font-family: "New Computer Modern";
	font-display: swap;
	font-style: italic;
	src: url("../assets/newcomputermodern/italic.otf");
	/* Source: https://ctan.org/tex-archive/fonts/newcomputermodern/otf/NewCM08-Italic.otf */
}

@font-face {
	font-family: "New Computer Modern";
	font-display: swap;
	font-weight: bold;
	src: url("../assets/newcomputermodern/bold.otf");
	/* Source: https://ctan.org/tex-archive/fonts/newcomputermodern/otf/NewCM10-Bold.otf */
}

@font-face {
	font-family: "New Computer Modern";
	font-display: swap;
	font-style: italic;
	font-weight: bold;
	src: url("../assets/newcomputermodern/bolditalic.otf");
	/* Source: https://ctan.org/tex-archive/fonts/newcomputermodern/otf/NewCM10-BoldItalic.otf */
}

@font-face {
	font-family: "New Computer Modern Math";
	font-display: swap;
	src: url("../assets/newcomputermodern/math.otf");
	/* Source: https://ctan.org/tex-archive/fonts/newcomputermodern/otf/NewCMMath-Regular.otf */
}

.table-container {
	overflow-x: auto;
	overflow-y: hidden;
	scrollbar-width: none;
}

object[type="application/pdf"] {
	display: block;
	inline-size: 100%;
	box-sizing: border-box;
	aspect-ratio: 2 / 1;
}

math {
	/* overflow-x: auto; */
	padding-block: 1px;
}

mfrac > :first-child {
	translate: 0 1px;
}

.ltx_theorem:not(.ltx_theorem_definition) {
	padding-inline: .8em;
	/* padding-block: .5em 0em; */
	padding-block: .5em .6em;
	border: 1px solid var(--color);
	/* --color: currentColor; */
	--color: var(--gray);
	background-color: color-mix(in srgb, var(--color), transparent 92%);
	margin-block: .8em;

	overflow-x: auto;

	&.ltx_theorem_theorem,
	&.ltx_theorem_corollary,
	&.ltx_theorem_lemma,
	&.ltx_theorem_proposition {
		/* border-radius: .5em; */
		--color: var(--latex-color-007091);
	}

	&.ltx_theorem_example {
		--color: var(--latex-color-8C0000);
	}

	&.ltx_theorem_exercise {
		border-width: 0;
		border-inline-start-width: 5px;
	}

	&.ltx_theorem_moral {
		&>.ltx_title_theorem {
			display: none;
		}

		--color: var(--latex-color-008000);
	}

	&>.ltx_para> :last-child {
		margin-block-end: 0;
	}
}

.ltx_theorem_definition {
	/* margin-block-start: .9em; */
}

.ltx_title_theorem .ltx_font_sansserif {
	font-family: inherit;
}

.ltx_eqn_center_padleft,
.ltx_eqn_center_padright {
	min-width: 0;
}

br {
	display: block;
	content: "";
	margin-block-end: .4em;
}

br.ltx_break {
	/* display: none; */
	/* display: inline flow-root; */
	/* display: block flow-root; */
	/* content: ""; */
	/* height: 0px; */
	/* margin-bottom: 0px; */
	/* font-size: .1rem; */
	/* line-height: .1; */
	/* height: .1rem; */
}

.ltx_note_content {
	background-color: Canvas;
}

.ltx_td,
.ltx_th {
	border-color: currentColor;
	padding: 1px;
}

.ltx_th {
	padding-inline: .4em;
}

.ltx_note_mark {
	color: var(--link);
}

.ltx_note_content {
	box-shadow: none;
	border: 1px solid #8888;
}

.ltx_tag_note {
	display: none;
}

ol.ltx_enumerate,
ul.ltx_itemize {
	padding-inline-start: 1.6em;
	margin-inline: 0;
	margin-block: .5em;
}

.ltx_table .ltx_caption,
.ltx_figure .ltx_caption {
	text-align: start;
}

.ltx_equation {
	margin-block: 2px;
}

.ltx_p {
	/* margin-block: .3em .5em; */
	text-wrap: wrap;
}

li.ltx_item .ltx_p {
	/* margin-block: 0; */
}

li.ltx_item {
	margin-block: .2em;
	/* white-space: inherit; */
}

.ltx_runin+.ltx_para p:first-child,
.ltx_runin+p:first-child {
	/* display: block; */
	/* text-indent: 0; */
	/* padding-block: 2rem; */
}

p.ltx_p {
	text-indent: 0;
}

.ltx_theorem_definition .ltx_runin+.ltx_para p:first-child {
	/* display: inline; */
}

.ltx_title {
	/* margin-block: .8em .3em; */
	/* display: inline flow-root; */
}

.ltx_framed_rectangle {
	border: none;
}

.ltx_title_section {
	margin-block: 1.1em .5em;
}

mtd {
	padding-inline: .3em;
}

munder>munder[accentunder="true"]+mrow {
	padding-inline: .2em;
}

.ltx_ERROR {
	color: var(--latex-color-FF0000);
}